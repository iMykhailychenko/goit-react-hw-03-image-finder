(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{22:function(e,t,a){e.exports=a(71)},27:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),c=a.n(o),i=a(8),s=a(3),l=a(4),u=a(6),m=a(5),h=a(7),p=a(19),d=(a(27),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={search:""},a.handleInput=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state.search.replace(/ +/g," ").trim().toLocaleLowerCase(),n=a.props.onSubmit;t&&(n(t),a.setState({search:""}))},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"Searchbar"},r.a.createElement("form",{className:"SearchForm",onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"},"Search")),r.a.createElement("input",{className:"SearchForm-input",type:"search",autoComplete:"off",name:"search",autoFocus:!0,placeholder:"Search images and photos",onInput:this.handleInput})))}}]),t}(n.Component)),f=a(20),b=a.n(f),g=(a(49),function(e){var t=e.images,a=e.onClick;return t.map((function(e){return r.a.createElement("li",{className:"ImageGalleryItem",key:e.id},r.a.createElement("img",{src:e.webformatURL,alt:e.tags,"data-url":e.largeImageURL,className:"ImageGalleryItem-image",onClick:a}))}))}),y=(a(50),function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).backdropRef=Object(n.createRef)(),a.state={url:a.props.url},a.handleKeyPress=function(e){"Escape"===e.code&&a.setState({url:""})},a.handleClick=function(e){var t=e.target,n=a.backdropRef.current;n&&t!==n||a.setState({url:""})},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentDidUpdate",value:function(e){var t=this.props.url;e.url!==t&&this.setState({url:t})}},{key:"componentWillUnmount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.state.url;return""!==e?r.a.createElement("div",{className:"Overlay",onClick:this.handleClick,ref:this.backdropRef},r.a.createElement("div",{className:"Modal"},r.a.createElement("img",{src:e,alt:"",className:"img"}))):null}}]),t}(n.Component)),v=(a(51),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={page:2},a.handleClick=function(){a.setState((function(e){return{page:e.page+1}})),(0,a.props.onLoadMore)(a.state.page)},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.state.page<=2||window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"Button-wrp"},r.a.createElement("button",{className:"Button",type:"button",onClick:this.handleClick},"Load more"))}}]),t}(n.Component)),k=(a(52),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={url:""},a.handleClick=function(e){var t=e.target.dataset.url;a.setState({url:t})},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.response,a=e.onLoadMore,n=e.isLoading,o=this.state.url;return 0===t.length?r.a.createElement("p",{className:"epmpty"},"Please, enter into ",r.a.createElement("mark",null,"search bar")," keywords that describe a photos you are looking for"):n?r.a.createElement(b.a,{className:"Loader",type:"Oval",color:"#00BFFF",height:100,width:100,timeout:3e3}):r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"ImageGallery"},r.a.createElement(g,{images:t,onClick:this.handleClick})),r.a.createElement(v,{onLoadMore:a}),r.a.createElement(y,{url:o}))}}]),t}(n.Component));k.defaultProps={isLoading:!1};var O=a(21),j=a.n(O),S=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n="https://pixabay.com/api/",r="&q=".concat(t,"&page=").concat(a,"&per_page=12&image_type=photo&orientation=horizontal");return j.a.get(n+e+r).then((function(e){return e.data.hits})).then((function(e){return e.map((function(e){return{id:e.id,tags:e.tags,largeImageURL:e.largeImageURL,webformatURL:e.webformatURL}}))}))},E="?key=14898579-fa1d2465db163140d99de90b7",w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={query:"",response:[],isLoading:!1,error:null},a.handleLoadMore=function(e){var t=a.state.query;S(E,t,e).then((function(e){a.setState((function(t){var a=t.response;return{response:[].concat(Object(i.a)(a),Object(i.a)(e))}}))})).catch((function(e){return a.setState({error:e})})).finally((function(){return a.setState({isLoading:!1})})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},a.handleSubmit=function(e){a.setState({query:e})},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state.query;t.query!==n&&(this.setState({isLoading:!0}),S(E,n).then((function(e){a.setState((function(t){return{response:Object(i.a)(e)}}))})).catch((function(e){return a.setState({error:e})})).finally((function(){return a.setState({isLoading:!1})})),window.scrollTo({top:0,behavior:"smooth"}))}},{key:"render",value:function(){var e=this.state,t=e.response,a=e.isLoading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{onSubmit:this.handleSubmit}),r.a.createElement(k,{response:t,isLoading:a,onLoadMore:this.handleLoadMore}))}}]),t}(n.Component);a(70);c.a.render(r.a.createElement(w,{className:"App"}),document.querySelector("#root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.233442b9.chunk.js.map